{% extends "dataportal/index.html" %}

{% block table %}
{% if per_pulsar_list %}
<div style="clear:both">
  <div class="row">
  <table id="psrs" class="table table-striped table-bordered table-sm">
    <thead class = "thead-dark">
      <tr>
        {% with hide_on_small='class="d-none d-sm-table-cell"' hide_on_medium='class="d-none d-lg-table-cell"' %}
        <th>JNAME</th>
        <th>Project</th>
        <th>Last obs</th>
        <th {{hide_on_medium}}>First obs</th>
        <th {{hide_on_small}}>Timespan [days]</th>
        <th {{hide_on_small}}>No. of obs</th>
        <th {{hide_on_small}}>Total int. [h]</th>
      </tr>
    </thead>
    <tbody>

      {% for psr in per_pulsar_list %}
      <tr>
        <td><a href="{% url 'pulsar_detail' psr.jname %}">{{ psr.jname }}</a></td>
        <td>{{ psr.proposal_short}}</td>
        <td>{{ psr.last|date:'Y-m-d H:i:s' }}</td>
        <td {{hide_on_medium}}>{{ psr.first|date:'Y-m-d H:i:s' }}</td>
        <td {{hide_on_small}}>{{ psr.timespan }}</td>
        <td {{hide_on_small}}>{{ psr.nobs }}</td>
        <td {{hide_on_small}}>{{ psr.total_tint_h|floatformat }}</td>
      </tr>
      {% endfor %}
      {% endwith %}

    </tbody>
  </table>
  </div>
</div>
{% else %}
<p>No observations are available.</p>
{% endif %}
{% endblock %}
